<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <link rel="manifest" href="./manifest.json" />
  <link rel="apple-touch-icon" href="./icons/icon-192.png" />
  <link rel="stylesheet" href="./styles.css" />
  <title>Commit day</title>
</head>
<body>
  <div class="app">
    <header class="header">
      <div>
        <h1>Commit day</h1>
        <p class="muted">Отмечай выполнение каждый день. Смотри прогресс как в LeetCode.</p>
      </div>
      <div class="header-actions">
        <button id="btnToday" class="btn">Сегодня</button>
        <button id="btnExport" class="btn">Экспорт</button>
        <label class="btn file-btn">
          Импорт
          <input id="fileImport" type="file" accept="application/json" />
        </label>
      </div>
    </header>

    <main class="grid">
      <section class="card">
        <h2>Мои цели</h2>

        <div class="row">
          <input id="goalInput" class="input" placeholder="Например: 10k шагов / без сладкого / тренировка" />
          <button id="btnAddGoal" class="btn primary">Добавить</button>
        </div>

        <div id="goalsList" class="goals"></div>

        <div class="divider"></div>

        <h3>Отметки за <span id="selectedDateLabel"></span></h3>
        <div id="checkinsList" class="checkins"></div>
      </section>

      <section class="card">
        <div class="heatmap-head">
          <div>
            <h2>Календарь успеха</h2>
            <p class="muted">Интенсивность = доля выполненных goals за день.</p>
          </div>
        </div>

        <div id="months" class="months" aria-label="Months"></div>

        <div class="legend">
            <span class="muted">меньше</span>
            <span class="legend-cell l0"></span>
            <span class="legend-cell l1"></span>
            <span class="legend-cell l2"></span>
            <span class="legend-cell l3"></span>
            <span class="legend-cell l4"></span>
            <span class="muted">больше</span>
          </div>
          

        <div class="divider"></div>

        <h3>Статистика</h3>
        <div class="stats">
          <div class="stat">
            <div class="stat-num" id="statGoals">0</div>
            <div class="muted">целей</div>
          </div>
          <div class="stat">
            <div class="stat-num" id="statStreak">0</div>
            <div class="muted">стрик (дней)</div>
          </div>
          <div class="stat">
            <div class="stat-num" id="statDone7">0</div>
            <div class="muted">выполнено / 7 дней</div>
          </div>
        </div>

        <p class="muted small">
          Подсказка: нажми на клетку в календаре — откроются чек-ин’ы за этот день.
        </p>
      </section>
    </main>

    <footer class="footer muted">
      Offline ✅ · Данные хранятся на устройстве (localStorage)
    </footer>
  </div>

  <script src="./app.js"></script>
</body>
</html>
